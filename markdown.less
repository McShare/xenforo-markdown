.font-code {
	font-family: Monaco, Menlo, Consolas, 'Roboto Mono', 'Andale Mono', 'Ubuntu Mono', '微软雅黑', monospace;
}

.__darkmode {
	blockquote:not(.bbCodeBlock) {
		background: #3b414b;
		border-color: #4d5460;
		border-left: 2px solid #2175f3;
	}

	code {
		background: #3b414b;
		border-color: #4d5460;
	}

	th,
	td {
		border: 1px solid #4d5460;
	}

	.bbCodeBlock {
		display: flow-root;
		margin: 0.5em 0;
		background: #2d333d;
		border: 1px solid #3a424f;
		border-left: 2px solid #4584e3;

		.bbCodeBlock-title {
			padding: 10px 15px;
			font-size: 1.2rem;
			color: #f90;
			background: #292e37;
		}

		pre {
			margin: 0;

			.token.comment,
			.token.prolog,
			.token.doctype,
			.token.cdata {
				color: #7C7C7C;
			}

			.token.punctuation {
				color: #c5c8c6;
			}

			.namespace {
				opacity: .7;
			}

			.token.property,
			.token.keyword,
			.token.tag {
				color: #96CBFE;
			}

			.token.class-name {
				color: #FFFFB6;
				text-decoration: underline;
			}

			.token.boolean,
			.token.constant {
				color: #99CC99;
			}

			.token.symbol,
			.token.deleted {
				color: #f92672;
			}

			.token.number {
				color: #FF73FD;
			}

			.token.selector,
			.token.attr-name,
			.token.string,
			.token.char,
			.token.builtin,
			.token.inserted {
				color: #A8FF60;
			}

			.token.variable {
				color: #C6C5FE;
			}

			.token.operator {
				color: #EDEDED;
			}

			.token.entity {
				color: #FFFFB6;
				cursor: help;
			}

			.token.url {
				color: #96CBFE;
			}

			.language-css .token.string,
			.style .token.string {
				color: #87C38A;
			}

			.token.atrule,
			.token.attr-value {
				color: #F9EE98;
			}

			.token.function {
				color: #DAD085;
			}

			.token.regex {
				color: #E9C062;
			}

			.token.important {
				color: #fd971f;
			}

			.token.important,
			.token.bold {
				font-weight: bold;
			}

			.token.italic {
				font-style: italic;
			}
		}

		.bbCodeBlock-content {
			position: relative;
			padding: 12px 15px;
		}
	}


}

.__lightmode {
	blockquote:not(.bbCodeBlock) {
		border-color: #d3e1f6;
		border-left: 2px solid #2175f3;
		background: #f1f3fb;
	}

	code {
		background: #f1f3fb;
		border-color: #d3e1f6;
	}

	th,
	td {
		border: 1px solid #d3e1f6;
	}
}

.xfPreview,
article.message-body,
article.resourceBody-main,
.message-userContent blockquote.message-body,
aside.message-signature {
	&.dark:not(.darkauto) {

		.bbWrapper,
		& {
			.__darkmode;
		}
	}

	&:not(.dark, .darkauto) {

		.bbWrapper,
		& {
			.__lightmode;
		}
	}

	&:not(.dark).darkauto {

		.bbWrapper,
		& {
			@media (prefers-color-scheme: dark) {
				.__darkmode;
			}

			@media (prefers-color-scheme: light) {
				.__lightmode;
			}
		}
	}
}

.xfPreview,
article.message-body .bbWrapper,
article.resourceBody-main .bbWrapper,
.message-userContent blockquote.message-body .bbWrapper,
aside.message-signature .bbWrapper {

	h1,
	p {
		&+br {
			display: none;
		}
	}

	p {
		margin: 16px 0;
		line-height: 1.5;
	}

	ul,
	ol,
	p {
		strong {
			font-weight: bold;
		}
	}

	code {
		margin: 0;
		font-size: 90%;
		background: transparent;
		border: 1px solid transparent;
		border-radius: 4px;
		padding-top: 1px;
		padding-right: 4px;
		padding-bottom: 1px;
		padding-left: 4px;
		.font-code;
		line-height: 1.4;
		box-decoration-break: clone;
		-webkit-box-decoration-break: clone;
	}

	h1,
	h2,
	h3,
	h4 {
		margin: 8px 0;
	}

	h1 {
		font-size: 26px;
	}

	h2 {
		font-size: 24px;
	}

	h3 {
		font-size: 20px;
	}

	h4 {
		font-size: 16px;
	}

	em {
		font-style: italic !important;
	}

	table {
		width: 100%;
		border-collapse: collapse;
		empty-cells: show;
		margin: 16px 0;

		th,
		td {
			background: transparent;
			padding: 4px;
		}
	}

	ol,
	ul {
		padding-left: 20px;
	}

	pre code {
		background: transparent !important;
		border-color: transparent !important;
	}

	pre {
		border: 1px solid transparent;
		padding: 4px;
	}

	blockquote:not(.bbCodeBlock) {
		display: flow-root;
		margin: 0.5em 0;
		padding: 12px 15px;

		p {
			margin: 0 !important;
		}
	}

	.bbCodeBlock {
		display: flow-root;
		margin: 0.5em 0;
		background: #f1f3fb;
		border: 1px solid #d3e1f6;
		border-left: 2px solid #2175f3;

		.bbCodeBlock-title {
			padding: 12px 15px;
			font-size: 1.2rem;
			color: #92d049;
			background: #f9fafd;
		}

		pre {
			margin: 0;
		}

		.bbCodeBlock-content {
			position: relative;
			padding: 12px 15px;
		}
	}
}

pre {
	overflow: auto;
}

/* fix for prism bug */
pre .token {

	&.comment,
	&.prolog,
	&.doctype,
	&.cdata {
		color: #a50;
	}

	&.constant {
		color: #05a;
	}

	&.tag {
		color: #170;
	}

	&.boolean {
		color: #219;
	}

	&.symbol,
	&.atrule,
	&.keyword {
		color: #708;
	}

	&.selector,
	&.function {
		color: #05a;
	}

	&.deleted {
		color: #d44;
	}

	&.inserted {
		color: #292;
	}

	&.string,
	&.attr-value {
		color: #a11;
	}

	&.number {
		color: #164;
	}

	&.attr-name,
	&.char,
	&.builtin {
		color: #00c;
	}

	&.regex,
	&.important,
	&.variable,
	&.package {
		color: #05a;
	}

	&.class-name,
	&.important,
	&.bold {
		color: #00f;
	}

	&.bold {
		font-weight: bold;
	}

	&.italic,
	&.constant {
		color: #05a;
		font-style: italic;
	}

	&.entity {
		cursor: help;
	}
}

iframe {
	border: none;
}